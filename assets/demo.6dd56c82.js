import{r as m,y as f,o,c,b as s,l as d,u as l,F as v,G as p}from"./plugin-vue_export-helper.d0714c76.js";function y(t){var r;if(!t)throw new Error("options is required");if(!t.service)throw new Error("options.service is required");const a=(r=t.validateEmpty)!=null?r:function(u){return u===null},n=t.defaultData||null,e=m({loading:!1,error:null,empty:!1,data:n});async function i(){e.loading=!0;try{e.data=await t.service(),e.empty=a(e.data),e.error=null}catch(u){e.error=u}e.loading=!1}return{state:e,service:i}}const g={setup(t){const{state:a,service:n}=y({defaultData:[],validateEmpty:e=>e.length===0,service:()=>new Promise(e=>{setTimeout(()=>{e([{id:1,name:"<NAME>"},{id:2,name:"<NAME>"},{id:3,name:"<NAME>"}])},1e3)})});return f(()=>{n()}),(e,i)=>(o(),c("div",null,[s("h1",null,d(l(a).data.length),1),s("button",{onClick:i[0]||(i[0]=(...r)=>l(n)&&l(n)(...r))},"\u66F4\u65B0"),s("ul",null,[(o(!0),c(v,null,p(l(a).data,r=>(o(),c("li",{key:r.id},d(r.name),1))),128))]),s("div",null,"\u662F\u5426\u6709\u9519\u8BEF\uFF1A"+d(l(a).error?"\u6709":"\u65E0"),1)]))}};export{g as _};
